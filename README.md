# 使用说明

## μ 的估计

在 R 环境中，使用以下命令加载 μ 的估计主程序：

```r
source("main.R")
```

然后运行以下命令启动模拟（可选指定参数 `K` 和 `n_ave`）：

```r
run_main()
# 示例：run_main(K = 5, n_ave = 20)
```

> 当前模型仅支持所有 k 轨迹数 `n_ave` 相等。支持不等功能将在 μ 与 σ 模块合并后提供。

---

## σ 的估计

在 R 环境中，使用以下命令加载并运行 σ 的估计模块：

```r
source("inference.R")
```

---

## 模块化与合并说明

目前正在对 μ 与 σ 的代码进行解耦与合并。遇到的问题如下：

- 若先生成指数（即先生成 log σ²），再进行 μ 的估计，会导致 μ 的估计精度下降约两个数量级（从 `e-3` 降至 `5e-1`），几乎失效；
- 若直接生成 σ 进行估计，则 σ 的估计精度很差。

---

## 模块化测试说明

模块化测试可使用如下方式进行：

1. 加载测试脚本：

```r
source("testonerun")
```

2. 各测试函数说明：

- `test_mu_estimation()`：**先生成指数**，用于 μ 的估计。
- `test_mu_estimation2()`：**直接生成 σ**，用于 μ 的估计。
- `test_mu_estimation3()`：**先生成指数**，用于 σ 的估计。
